<!DOCTYPE html>
<html
  lang="en"
  xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{inc/layout.html}"
>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script defer src="/js/freeboard/detail.js"></script>
    <style>
        .profile-img{
            --height-1: 32px;
            --width-1: 32px;
        }
        .img-box{
            transition: transform 400ms;
        }
        .img-pager{
            --width-1: 10px;
            --height-1: 10px;
        }
        .selected-img-pager{
            background-color: var(--color-main-5);
            border-color: var(--color-main-5) !important;
            transition: background-color 400ms, border-color 400ms;
        }
        #user-info{
            --font-size-1: 10px;
            --font-size-2: 12px;
        }
        #comment-list{
            --font-size-1: 10px;
        }
        .dotdotdot{
            --top-1: 8px;
        }
        .img-nx-pr-btn{
            --top-2: 128px;
        }
        .liked{
            border-color: var(--color-main-5) !important;
            background-color: var(--color-main-2) !important;
        }
        .icon\:check_bold{
            --top-1: 8px;
            --right-1: 8px;
        }
        textarea{
            resize: none;
        }
    </style>
</head>
<body>
    <main layout:fragment="main">
        <section id="board" class="d:flex fl-dir:column mt:4 pb:3 px:3">
            <h1 class="d:none">게시글</h1>
            <span class="pos:relative">
                <section id="user-info" class="d:flex ai:center ml:2">
                    <h1 class="d:none">사용자 정보</h1>
                    <div><img class="profile-img h:1 w:1" src="" --th:src="${user.img}" alt=""></div>
                    <span class="ml:2">
                        <div class="fs:2" th:text="${user.nickname}">뉴렉이</div>
                        <div class="fs:1 color:base-5" th:text="${board.regDate}">10분전</div>
                    </span>
                </section>

                <div class="icon icon:dots_three_outline_vertical_fill icon-size:2 pos:absolute right:1 top:1">점점점</div>

                <div class="fs:4 fw:3 mt:4 ml:2" th:text="${board.title}">푸바오 신간 샀어요 !!</div>

                <p class="fs:2 mt:3 ml:2" th:text="${board.content}">오늘 교보문고 가니까 입구에 딱!!! 있더라구요!!! 어어쩌고 저쩌고 ㄴ으미능마니읜읨나음니ㅏ으미나으미느아미느이ㅏㅓㅎ호ㅓ로로ㅓ허ㅏㅗㅗㅓ</p>

                <span th:if="!${#arrays.isEmpty(imgs)}">
                    <section class="mt:3 d:flex fl-dir:column jc:center ai:center pos:relative">
                        <h1 class="d:none">이미지</h1>

                        <div class="mt:3 w:5 bd bd-radius:6 bd-color:base-3 --of:hidden">
                            <span class="img-box d:flex" data-cur-x="0" data-cur-img="1" th:data-last-img="${#arrays.length(imgs)}">
                                <div th:each="img : ${imgs}">
                                    <img class="h:5 bg-size:contain" src="/image/my/profile.png" alt="게시글 이미지" th:src="${img.img}">
                                </div>
                            </span>
                        </div>

                        <ul class="img-pager pt:2 w:2 d:flex jc:center">
                            <li class="w:1 h:1 bd bd-radius:8 mx:auto selected-img-pager"></li>
                            <li class="w:1 h:1 bd bd-radius:8 mx:auto" th:each="tmp, status : ${imgs}" th:unless="${status.index==0}"></li>
                        </ul>

                        <div class="img-nx-pr-btn w:7 d:flex jc:space-between pos:absolute top:2">
                            <div><button class="img-l-btn icon icon:caret_left_bold cursor:pointer d:none">이전</button></div>
                            <div><button class="img-r-btn icon icon:caret_right_bold cursor:pointer">다음</button></div>
                        </div>
                    </section>
                </span>
                
                <section class="mt:5 pb:8 d:flex">
                    <h1 class="d:none">좋아요 수 / 댓글 수</h1>
                    <div><button class="like-btn fs:2 color:base-6 deco icon:thumbs_up icon-color:base-5 deco-mr:1 bd bd-radius:9 px:4 py:1 cursor:pointer" th:classappend="${isLiked ? 'liked' : 'false'}" th:text="${likeCnt}" th:data-fid="${board.id}">13</button></div>
                    <div class="ml:3"><button class="fs:2 color:base-6 deco icon:chat_circle icon-color:base-5 deco-mr:1 bd bd-radius:9 px:4 py:1 cursor:pointer" th:text="${commentCnt}">13</button></div>
                </section>

                <section id="comment-list" class="d:flex fl-dir:column mt:4 pb:3">
                    <h1 class="d:none">댓글 목록</h1>

                    <section class="d:flex fl-dir:column pos:relative bd-top pt:2 pb:9" th:each="c : ${commentList}">
                        <h1 class="d:none">댓글</h1>
                        <div class="d:flex ai:center">
                            <div><img class="profile-img h:1 w:1" src="" th:src="${c.img}" alt=""></div>
                            <div class="ml:2">
                                <div class="fs:3" --th:text="${c.nickname}">뉴렉이</div>
                                <div class="fs:1 color:base-5" th:text="${c.regDate}">10분전</div>
                            </div>
                        </div>
                        <p class="fs:2 mt:2" th:text="${c.content}">좋아요 굿!!</p>
                        <div class="dotdotdot icon icon:dots_three_outline_vertical_fill icon-size:2 pos:absolute right:1 top:1">점점점</div>
                    </section>

                    <section>
                        <h1 class="d:none">댓글입력 부</h1>
                        <form class="d:flex pos:relative" action="" method="post">
                            <div class="flex-grow:1">
                                <label>
                                    <textarea class="w:10p bd bd-radius:5 bd-color:main-5 px:2 py:2" rows="1" name="comment"></textarea>
                                </label>
                            </div>
                            <div><input type="hidden" name="fid" th:value="${board.id}"></div>
                            <div><button class="icon icon:check_bold pos:absolute icon-size:5 icon-color:main-5 right:1 top:1 cursor:pointer pl:2 box-sizing:content-box bd-left">제출</button></div>
                        </form>
                    </section>
                </section>

            </span>
        </section>

    </main>
</body>
</html>